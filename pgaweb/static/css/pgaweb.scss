/* Main body */
@import './styleguide/_default.variables.scss';

/* ==========================================================================
   CSS Custom Properties (for dark mode support)
   ========================================================================== */
:root {
  /* Light mode (default) */
  --bg-primary: #ffffff;
  --bg-secondary: #f8fafc;
  --bg-tertiary: #f3f5f9;
  --text-primary: #1a1a1a;
  --text-secondary: #5b6d7c;
  --text-muted: #848ea0;
  --border-color: #e2e8f0;
  --border-color-dark: #bac1cd;

  /* Brand colors */
  --color-primary: #326690;
  --color-primary-dark: #295c85;
  --color-primary-light: #d6effc;
  --color-primary-rgb: 50, 102, 144;

  /* Shadows */
  --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
  --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
  --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
  --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
  --shadow-primary: 0 4px 14px 0 rgba(50, 102, 144, 0.3);

  /* Transitions */
  --transition-fast: 0.15s ease-in-out;
  --transition-base: 0.2s ease-in-out;
  --transition-slow: 0.3s ease-in-out;

  /* Border radius */
  --radius-sm: 0.375rem;
  --radius-md: 0.5rem;
  --radius-lg: 0.75rem;
  --radius-xl: 1rem;

  /* Light mode specific */
  --bg-darker: #1a1a1a;  /* Same as dark mode (for always-dark navbar/footer) */
  --card-border: var(--border-color);  /* Cards use standard border in light mode */
}

/* Dark mode - using html[data-theme] for higher specificity than :root */
html[data-theme="dark"] {
  /* Custom theme variables - using neutral grays instead of blue tints */
  --bg-primary: #1a1a1a;
  --bg-secondary: #242424;
  --bg-tertiary: #2d2d2d;
  --bg-darker: #111111;  /* For navbar/footer */
  --text-primary: #e4e4e7;
  --text-secondary: #a1a1aa;
  --text-muted: #71717a;
  --border-color: #2a2a2a;
  --border-color-dark: #4a4a4a;
  --card-border: #3d3d3d;  /* Visible border for cards */

  --color-primary: #4a9eda;
  --color-primary-dark: #326690;
  --color-primary-light: #2a4a6a;

  --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.3);
  --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.4), 0 2px 4px -1px rgba(0, 0, 0, 0.3);
  --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.4), 0 4px 6px -2px rgba(0, 0, 0, 0.3);

  /* Bootstrap variable overrides - critical for Bootstrap components */
  --bs-body-bg: #1a1a1a;
  --bs-body-color: #e4e4e7;
  --bs-body-bg-rgb: 26, 26, 26;
  --bs-body-color-rgb: 228, 228, 231;
  --bs-secondary-bg: #242424;
  --bs-tertiary-bg: #242424;
  --bs-link-color: #4a9eda;
  --bs-link-color-rgb: 74, 158, 218;
  --bs-link-hover-color: #6bb3ed;
  --bs-heading-color: #e4e4e7;
  --bs-border-color: #2a2a2a;
  --bs-border-color-translucent: rgba(58, 58, 58, 0.5);
}

/* Ensure dark mode applies to html and body immediately */
html[data-theme="dark"],
html[data-theme="dark"] body {
  background-color: #1a1a1a !important;
  color: #e4e4e7 !important;
}

/* ==========================================================================
   Modern Design Tokens (SCSS variables for use in mixins/calculations)
   ========================================================================== */

/* Gradients */
$gradient-hero: linear-gradient(135deg, #326690 0%, #1a3d5c 100%);
$gradient-hero-dark: linear-gradient(135deg, #2a2a2a 0%, #1a1a1a 100%);
$gradient-cta: linear-gradient(135deg, #326690 0%, #4a7ba8 100%);

/* Shadows for SCSS usage (CSS custom properties used elsewhere) */
$shadow-md: var(--shadow-md);
$shadow-lg: var(--shadow-lg);
$shadow-xl: var(--shadow-xl);

/* Border radius for SCSS usage */
$radius-lg: var(--radius-lg);

/* ==========================================================================
   Base Styles
   ========================================================================== */
body {
  background-color: var(--bg-primary);
  color: var(--text-primary);
  transition: background-color var(--transition-base), color var(--transition-base);
  overflow-x: hidden; /* Prevent horizontal scroll from 100vw elements */
}

/* Utility to invert SVG/icon colors to white (for use on dark backgrounds) */
.filter-white {
  filter: brightness(0) invert(1);
}

/* ==========================================================================
   Scroll Animations
   ========================================================================== */

/* Fade-in and slide-up animation */
@keyframes fadeSlideUp {
  from {
    opacity: 0;
    transform: translateY(30px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Elements that will animate on scroll */
.scroll-animate {
  opacity: 0;
  transform: translateY(30px);
  transition: opacity 0.6s ease-out, transform 0.6s ease-out;

  &.is-visible {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Staggered animation delays for cards */
.scroll-animate-stagger {
  opacity: 0;
  transform: translateY(20px);
  transition: opacity 0.5s ease-out, transform 0.5s ease-out;

  &.is-visible {
    opacity: 1;
    transform: translateY(0);
  }

  /* Stagger delays for child elements */
  @for $i from 1 through 6 {
    &:nth-child(#{$i}) {
      transition-delay: #{($i - 1) * 0.1}s;
    }
  }
}

/* Navbar scroll effect */
.navbar {
  transition: box-shadow 0.3s ease, background-color 0.3s ease;

  &.scrolled {
    box-shadow: $shadow-md;
  }
}

/* Respect reduced motion preference */
@media (prefers-reduced-motion: reduce) {
  .scroll-animate,
  .scroll-animate-stagger {
    opacity: 1;
    transform: none;
    transition: none;
  }

  .navbar {
    transition: none;
  }
}

/* Navbar and menus */
.dropdown-header {
    font-weight: bold;
    font-style: italic;
    margin-top: 8px;
    margin-left: -10px;
}

.dropdown-item:hover,
.dropdown-item:active,
{
  background-color: $color-gray-light;
  color: $color-fg;
}

.navbar {
    height: 50px;
    position: relative; /* For absolute positioned mobile menu */
}

.navbar-brand {
    font-size: 1.4rem;
    letter-spacing: -0.02em;
    color: #e4e4e7 !important;
    display: flex;
    align-items: center;
    line-height: 1;

    img {
        vertical-align: middle;
    }

    &:hover {
        color: #fff !important;
    }
}

.navbar-dark .navbar-nav .nav-link {
    color: $color-gray;
}

.navbar-collapse {
    padding: 5px;
    z-index: 9900;

    /* Mobile menu styling - solid background, positioned absolutely to prevent jumping */
    @media (max-width: 991.98px) {
        position: absolute;
        top: 100%; /* Position below the navbar */
        left: 0;
        right: 0;
        background-color: #212529; /* Match navbar dark background */
        border-radius: 0 0 0.5rem 0.5rem;
        padding: 1rem;
        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.2);

        .navbar-nav {
            .nav-link {
                color: #a1a1aa !important;
                padding: 0.75rem 1rem;

                &:hover {
                    color: #e4e4e7 !important;
                    background-color: rgba(255, 255, 255, 0.1);
                    border-radius: 0.25rem;
                }
            }

            .dropdown-menu {
                background-color: #2d3238;
                border: none;

                .dropdown-item {
                    color: #a1a1aa;

                    &:hover {
                        background-color: rgba(255, 255, 255, 0.1);
                        color: #e4e4e7;
                    }
                }
            }
        }
    }

    /* Desktop - transparent background */
    @media (min-width: 992px) {
        position: static;
        background-color: transparent;
    }
}

/* Bootstrap colours */
.well, pre {
    background-color: $color-gray-lighter;
}

html[data-theme="dark"] .well,
html[data-theme="dark"] pre {
    background-color: #242424 !important;
}

html[data-theme="dark"] .note {
    background-color: #2a2a2a !important;
    border-left-color: #5a5a5a !important;
    color: #e4e4e7 !important;
}

html[data-theme="dark"] .warning {
    background-color: #3d3520 !important;
    border-left-color: #b8a033 !important;
    color: #e4e4e7 !important;
}

/* Main content area */
.pga-content {
    position: relative;
    z-index: 999;
    padding-top: 15px;
    margin-bottom: 0;
    background: var(--bg-primary);
}

/* Side-bar borders */
.pga-sidebar-left {
    margin-left: 0px;
}

.pga-sidebar-right {
    text-align: center;
    margin-right: 0px;
}

/* Title styles */
h1 {
  display: block;
  text-align: left;
  margin-bottom: 20px;
  background-color: $color-primary;
  border-radius:5px;
  padding: 5px 7px;
  color: #FFFFFF;
  font-size: 30px;
}

h2 {
  text-align: left;
  margin-bottom: 10px;
  margin-top: 10px;
  color: $color-primary;
  font-size: 20px;
}

h3 {
  text-align: left;
  margin-bottom: 8px;
  margin-top: 8px;
  color: $color-primary;
  font-size: 16px;
  font-weight: 600;
}

h4 {
  text-align: left;
  margin-bottom: 6px;
  margin-top: 6px;
  color: $color-primary;
  font-size: 14px;
  font-weight: 600;
}

a {
  color: $color-primary;
}

/* Quicklinks box */
.pga-quicklinks {
    text-align: center;
    padding-left: 5px;
    padding-right: 5px;
    padding-top: 10px;
    padding-bottom: 10px;
}

.pga-quicklinks h2 {
    text-align: center;
    margin-top: 0px !important;
    margin-bottom: 2.5em !important;
}

.pga-quicklinks p {
    font-size: 1.1em;
}

.pga-quicklinks i {
    font-size: 40px !important;
    margin-top: 20px;
    color: #000000 !important;
    line-height: 0.8em;
}

/* Downloads box */
.pga-downloads {
   font-size: 1.1em;
   padding: 15px;
   margin-bottom: 15px;
}

.pga-quicklinks td i:before {
  line-height: 0.5em;
}

.pga-downloads table {
   border: none;
}

.pga-downloads.table>tbody>tr>td,
.pga-downloads.table>tbody>tr>th,
.pga-downloads.table>thead>tr>td,
.pga-downloads.table>thead>tr>th {
   border: none;
}

.pga-downloads ul {
    margin-bottom: 0px;
    line-height: 2em;
}

.pga-downloads i {
    line-height: 2em;
}

.well > p {
  margin-bottom: 2em;
}
.pga-downloads .pga-quicklinks td {
  padding-top: 2.2em;
}

/* Version box */
.pga-version {
    text-align: center;
    margin-top: 30px;
}

.pga-version p {
    font-size: 16px !important;
    margin-bottom: 0px;
}

.pga-version a {
    font-weight: bolder !important;
}

/* Table-like layout */
.table {
    display: table;
    width: 100%;
}
.table .row {
    display: table-row;
}
.table .row .cell {
    display: table-cell;
}

/* Terminal-like code display */
.pga-terminal {
    padding: 5px;
    background-color: #000000;
    color: #47d147;
}

.pga-terminal a {
    color: #2b6da3;
}

.pga-terminal a:hover, a:active {
    color: #50b0f0;
    text-decoration: none;
}

/* Admonition boxes */
.admonition-title {
    font-weight: bold;
}

.warning {
    background-color: #ffffcc;
    border-left: 6px solid #ffeb3b;
    padding: 5px;
    margin-bottom: 15px;
}

.note {
    background-color: #f3f5f9;
    border-left: 6px solid #cacaca;
    padding: 5px;
    margin-bottom: 15px;
}

/* Doc pages */
.page-container {
    padding-left: 0px;
    padding-right: 0px;
}

.pga-doccurrent {
    text-decoration: underline;
}

.pga-docwrapper {
    margin-left: -15px;
    margin-right: -15px;
}

.pga-docbody {
    padding: 0px;
}

.pga-docbody h1 {
    margin-top: 0px;
}

.pga-docbody img {
    max-width: 100%;
}

.pga-docbody img.align-center {
    margin-top: 10px;
    margin-bottom: 10px;
    display: block;
    margin-left: auto;
    margin-right: auto;
}

.pga-docbody img.align-right {
    clear: right;
    float: right;
    margin-left: 1em;
}

.pga-docbody a.headerlink {
    margin-left: 0.5em;
    color: $color-gray;
}

.pga-docbody a.headerlink:hover {
    color: $color-gray-dark;
}

.pga-docbody h1 a.headerlink {
    color: $color-gray-dark;
}

.pga-docbody h1 a.headerlink:hover {
    color: $color-gray;
}

.pga-docbody div.highlight {
    padding: 15px;
    margin-bottom: 20px;
    background-color: $color-gray-lighter;
}

.pga-docbody div.highlight pre {
    margin: 0px;
}

.pga-docbody table {
  border: 1px solid $color-gray-dark;
  background-color: $color-gray-light;
  width: 100%;
  text-align: left;
  border-collapse: collapse;
}

.pga-docbody table p {
  margin: 4px;
}

.pga-docbody table td, table.pga-docbody th {
  border-left: 1px solid $color-gray;
  padding: 3px 2px;
}

.pga-docbody table tr:nth-child(even) {
  background: $color-gray-lighter;
}
.pga-docbody table thead {
  background: $color-primary;
  border-bottom: 2px solid $color-gray;
}
.pga-docbody table thead th {
  font-weight: bold;
  color: #FFFFFF;
  border-left: 2px solid $color-gray;
}
.pga-docbody table thead th:first-child {
  border-left: none;
}

.pga-docheader {
    margin-bottom: 15px;
    width: 100%;
    padding: 5px;
    font-size: 15px;
}

.pga-docheader h3 {
    display: none;
}

.pga-docheader ul {
    margin: 0;
    padding: 0 0 0 10px;
    list-style: none;
}

.pga-docheader li {
    display: inline;
}

.pga-docheader li.right {
    float: right;
    margin-right: 5px;
}

.pga-docheaderinfo {
    margin-left: 10px;
}

.pga-doccontents {
    padding: 5px;
}

.pga-doccontents h2 {
    margin-top: 5px;
    margin-left: 5px;
}

.pga-doccontents ul {
    padding-left: 15px;
    margin: 5px;
}

/* Doc content layout - ensure Contents + Body display side-by-side */
.pga-content .row {
    display: flex;
    flex-wrap: wrap;
}

.pga-content .col-md-3 {
    flex: 0 0 auto;
    width: 25%;
}

.pga-content .col-md-9 {
    flex: 0 0 auto;
    width: 75%;
}

@media (max-width: 767.98px) {
    .pga-content .col-md-3,
    .pga-content .col-md-9 {
        width: 100%;
    }
}

/* Page template layout - ensure Content + Ad sidebar display side-by-side */
.pga-content > .container-xxl > .row {
    display: flex;
    flex-wrap: nowrap;
}

.pga-content .col-lg-10 {
    flex: 0 0 auto;

    @media (min-width: 992px) {
        width: 83.333333%;
    }

    @media (max-width: 991.98px) {
        width: 100%;
    }
}

.pga-content .col-lg-2 {
    flex: 0 0 auto;

    @media (min-width: 992px) {
        width: 16.666667%;
    }

    @media (max-width: 991.98px) {
        display: none;
    }
}

.form-advanced-search {
    margin-top: 15px;
    margin-bottom: 5px
}

/* FontAwesome icon color - only apply to main content area, not navbar/footer */
.pga-content .svg-inline--fa,
.pga-docbody .svg-inline--fa {
  color: #000;
}

/* In dark mode, invert the icon colors in content areas */
html[data-theme="dark"] .pga-content .svg-inline--fa,
html[data-theme="dark"] .pga-docbody .svg-inline--fa {
  color: var(--text-primary);
}

.pga-toolbar-search {
    color: $color-bg;
}

/* Video embedding styles */
.video-container {
    overflow: hidden;
    position: relative;
    margin-bottom: 15px;
    width: 100%;
}

.video-container::after {
    padding-top: 56.25%;
    display: block;
    content: '';
}

.video-container iframe {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
}

.video-container-bottom-margin {
    margin-bottom: 25px;
}

/* ==========================================================================
   Screenshot Gallery (PhotoSwipe)
   ========================================================================== */
.screenshot-gallery {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
    gap: 1rem;
    margin-top: 1rem;
}

.screenshot-item {
    cursor: zoom-in;
    border-radius: 8px;
    overflow: hidden;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    transition: transform 0.2s ease, box-shadow 0.2s ease;
    background: var(--bg-secondary);

    &:hover {
        transform: translateY(-4px);
        box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15);
    }

    img {
        width: 100%;
        height: auto;
        display: block;
    }
}

.screenshot-caption {
    padding: 0.5rem;
    font-size: 0.85rem;
    color: var(--text-secondary);
    text-align: center;
    background: var(--bg-primary);
}

/* ==========================================================================
   Utility Classes for Inline Style Removal
   ========================================================================== */

/* Sticky sidebar offset - accounts for fixed navbar height */
.sticky-offset {
    top: 70px;
}

/* Font Awesome list utilities (for SVG+JS which doesn't include these) */
.fa-ul {
    list-style-type: none;
    margin-left: 2.5em;
    padding-left: 0;
}

.fa-ul > li {
    position: relative;
}

.fa-li {
    position: absolute;
    left: -2em;
    width: 2em;
    text-align: center;
    line-height: inherit;
}

/* Font Awesome list icon vertical alignment */
.pga-list-icon-align {
    top: 0.5em;
}

/* Search version select minimum width */
.search-version-select {
    min-width: 200px;
}

/* Download icon padding */
.download-icon-padding {
    padding-top: 1.1em;
}

/* Pygments styles */
.highlight .hll { background-color: #ffffcc }
.highlight  { background: #eeffcc; }
.highlight .c { color: #408090; font-style: italic } /* Comment */
.highlight .err { border: 1px solid #FF0000 } /* Error */
.highlight .k { color: #007020; font-weight: bold } /* Keyword */
.highlight .o { color: #666666 } /* Operator */
.highlight .ch { color: #408090; font-style: italic } /* Comment.Hashbang */
.highlight .cm { color: #408090; font-style: italic } /* Comment.Multiline */
.highlight .cp { color: #007020 } /* Comment.Preproc */
.highlight .cpf { color: #408090; font-style: italic } /* Comment.PreprocFile */
.highlight .c1 { color: #408090; font-style: italic } /* Comment.Single */
.highlight .cs { color: #408090; background-color: #fff0f0 } /* Comment.Special */
.highlight .gd { color: #A00000 } /* Generic.Deleted */
.highlight .ge { font-style: italic } /* Generic.Emph */
.highlight .gr { color: #FF0000 } /* Generic.Error */
.highlight .gh { color: #000080; font-weight: bold } /* Generic.Heading */
.highlight .gi { color: #00A000 } /* Generic.Inserted */
.highlight .go { color: #333333 } /* Generic.Output */
.highlight .gp { color: #c65d09; font-weight: bold } /* Generic.Prompt */
.highlight .gs { font-weight: bold } /* Generic.Strong */
.highlight .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.highlight .gt { color: #0044DD } /* Generic.Traceback */
.highlight .kc { color: #007020; font-weight: bold } /* Keyword.Constant */
.highlight .kd { color: #007020; font-weight: bold } /* Keyword.Declaration */
.highlight .kn { color: #007020; font-weight: bold } /* Keyword.Namespace */
.highlight .kp { color: #007020 } /* Keyword.Pseudo */
.highlight .kr { color: #007020; font-weight: bold } /* Keyword.Reserved */
.highlight .kt { color: #902000 } /* Keyword.Type */
.highlight .m { color: #208050 } /* Literal.Number */
.highlight .s { color: #4070a0 } /* Literal.String */
.highlight .na { color: #4070a0 } /* Name.Attribute */
.highlight .nb { color: #007020 } /* Name.Builtin */
.highlight .nc { color: #0e84b5; font-weight: bold } /* Name.Class */
.highlight .no { color: #60add5 } /* Name.Constant */
.highlight .nd { color: #555555; font-weight: bold } /* Name.Decorator */
.highlight .ni { color: #d55537; font-weight: bold } /* Name.Entity */
.highlight .ne { color: #007020 } /* Name.Exception */
.highlight .nf { color: #06287e } /* Name.Function */
.highlight .nl { color: #002070; font-weight: bold } /* Name.Label */
.highlight .nn { color: #0e84b5; font-weight: bold } /* Name.Namespace */
.highlight .nt { color: #062873; font-weight: bold } /* Name.Tag */
.highlight .nv { color: #bb60d5 } /* Name.Variable */
.highlight .ow { color: #007020; font-weight: bold } /* Operator.Word */
.highlight .w { color: #bbbbbb } /* Text.Whitespace */
.highlight .mb { color: #208050 } /* Literal.Number.Bin */
.highlight .mf { color: #208050 } /* Literal.Number.Float */
.highlight .mh { color: #208050 } /* Literal.Number.Hex */
.highlight .mi { color: #208050 } /* Literal.Number.Integer */
.highlight .mo { color: #208050 } /* Literal.Number.Oct */
.highlight .sa { color: #4070a0 } /* Literal.String.Affix */
.highlight .sb { color: #4070a0 } /* Literal.String.Backtick */
.highlight .sc { color: #4070a0 } /* Literal.String.Char */
.highlight .dl { color: #4070a0 } /* Literal.String.Delimiter */
.highlight .sd { color: #4070a0; font-style: italic } /* Literal.String.Doc */
.highlight .s2 { color: #4070a0 } /* Literal.String.Double */
.highlight .se { color: #4070a0; font-weight: bold } /* Literal.String.Escape */
.highlight .sh { color: #4070a0 } /* Literal.String.Heredoc */
.highlight .si { color: #70a0d0; font-style: italic } /* Literal.String.Interpol */
.highlight .sx { color: #c65d09 } /* Literal.String.Other */
.highlight .sr { color: #235388 } /* Literal.String.Regex */
.highlight .s1 { color: #4070a0 } /* Literal.String.Single */
.highlight .ss { color: #517918 } /* Literal.String.Symbol */
.highlight .bp { color: #007020 } /* Name.Builtin.Pseudo */
.highlight .fm { color: #06287e } /* Name.Function.Magic */
.highlight .vc { color: #bb60d5 } /* Name.Variable.Class */
.highlight .vg { color: #bb60d5 } /* Name.Variable.Global */
.highlight .vi { color: #bb60d5 } /* Name.Variable.Instance */
.highlight .vm { color: #bb60d5 } /* Name.Variable.Magic */
.highlight .il { color: #208050 } /* Literal.Number.Integer.Long */

/* ==========================================================================
   Modern Homepage Styles
   ========================================================================== */

/* Hero Section */
.hero-section {
    background: $gradient-hero;
    position: relative;
    overflow: hidden;
    min-height: auto;
    padding: 3rem 0;

    &::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-image: url("/static/COMPILED/assets/img/header-l.webp");
        background-size: cover;
        background-position: center;
        opacity: 0.15;
    }

    /* Ensure the row displays as flex for side-by-side layout */
    .row {
        display: flex;
        flex-wrap: wrap;
    }

    .col-lg-6 {
        flex: 0 0 auto;

        @media (min-width: 992px) {
            width: 50%;
        }

        @media (max-width: 991.98px) {
            width: 100%;
        }
    }

    .hero-content {
        position: relative;
        z-index: 1;
    }

    .hero-visual {
        position: relative;
        z-index: 1;

        @media (min-width: 992px) {
            display: flex;
            justify-content: flex-end;
        }
    }

    .hero-screenshot-wrapper {
        perspective: 1000px;
    }

    .hero-screenshot {
        border-radius: $radius-lg;
        box-shadow: $shadow-xl;
        transform: rotateY(-5deg);
        transition: transform 0.3s ease;
        max-height: 280px;
        width: auto;

        &:hover {
            transform: rotateY(0deg);
        }
    }

    h1 {
        background: none;
        padding: 0;
        border-radius: 0;
        text-align: left;
        font-size: 2.5rem;

        @media (max-width: 767px) {
            font-size: 2rem;
            text-align: center;
        }
    }

    /* Download Now button - always white with blue text */
    .btn-light {
        background-color: #fff !important;
        border-color: #fff !important;
        color: $color-primary !important;

        &:hover, &:focus {
            background-color: #f8f9fa !important;
            border-color: #f8f9fa !important;
            color: $color-primary-dark !important;
        }

        i {
            color: inherit !important;
        }
    }
}

.min-vh-75 {
    min-height: 75vh;
}

.text-white-50 {
    color: rgba(255, 255, 255, 0.5) !important;
}

.text-white-75 {
    color: rgba(255, 255, 255, 0.75) !important;
}

/* Feature Section */
.features-section {
    background-color: var(--bg-secondary);
    position: relative;

    /* Full-width background that extends to viewport edges */
    &::before {
        content: '';
        position: absolute;
        top: 0;
        bottom: 0;
        left: 50%;
        width: 100vw;
        transform: translateX(-50%);
        background-color: inherit;
        z-index: 0;
    }

    /* Ensure content is above the pseudo-element */
    .container {
        position: relative;
        z-index: 1;
    }

    /* Ensure grid layout works */
    .row {
        display: flex;
        flex-wrap: wrap;
    }

    .col-md-4 {
        flex: 0 0 auto;

        @media (min-width: 768px) {
            width: 33.333333%;
        }

        @media (max-width: 767.98px) {
            width: 100%;
        }
    }

    h2 {
        background: none;
        padding: 0;
        color: var(--text-primary);
        text-align: center;
    }

    .feature-card {
        transition: transform var(--transition-base), box-shadow var(--transition-base);
        background: var(--bg-primary);
        border: 1px solid var(--border-color);

        &:hover {
            transform: translateY(-5px);
            box-shadow: $shadow-lg;
        }

        .feature-icon {
            width: 80px;
            height: 80px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, var(--color-primary-light) 0%, var(--bg-primary) 100%);
            border-radius: 50%;
        }

        h3 {
            color: var(--text-primary);
            background: none;
            padding: 0;
            text-align: center;
        }
    }
}

/* ==========================================================================
   Dual Ad Layout - Ads on both sides of content
   ========================================================================== */

.dual-ad-layout {
    /* Override Bootstrap row styles */
    display: flex !important;
    flex-wrap: wrap !important;

    /* Desktop: left ad - content - right ad in a row */
    @media (min-width: 992px) {
        flex-wrap: nowrap !important;
        align-items: flex-start;
    }

    /* Ensure nested rows inside content use normal Bootstrap behavior */
    .row:not(.dual-ad-layout) {
        display: flex;
        flex-wrap: wrap;
    }

    /* Main content column */
    .homepage-main-col,
    .page-main-col {
        flex: 1 1 auto !important;
        min-width: 0;
        order: 2;
        max-width: none;

        @media (max-width: 991.98px) {
            order: 2;
            flex: 0 0 100% !important;
            max-width: 100% !important;
        }
    }

    /* Ad columns - 160px for standard wide skyscraper ads (160x600) */
    .ad-col {
        flex: 0 0 auto !important;

        @media (min-width: 992px) {
            flex: 0 0 160px !important;
            width: 160px !important;
            max-width: 160px !important;
        }

        @media (max-width: 991.98px) {
            flex: 0 0 100% !important;
            width: 100% !important;
            max-width: 100% !important;
            display: flex;
            justify-content: center;
            padding: 1rem 0;
        }
    }

    .ad-col-left {
        order: 1;

        @media (max-width: 991.98px) {
            order: 1; /* Top on mobile */
        }
    }

    .ad-col-right {
        order: 3;

        @media (max-width: 991.98px) {
            order: 3; /* Bottom on mobile */
        }
    }
}

/* Ad Sidebar styling */
.ad-sidebar {
    /* Mobile: wide short ads (320x100 or 320x50 mobile banner) */
    @media (max-width: 991.98px) {
        max-width: 100%;
        width: 100%;
        min-height: 100px;
        max-height: 150px;
        position: static !important;
        margin: 0 auto;
    }
}

/* Ad column containers - align ads to outer edges and clip overflow */
.ad-col-left {
    display: flex;
    justify-content: flex-start; /* Push ads to left edge */
    overflow: hidden; /* Clip any overflow on the right */

    .ad-sidebar {
        margin-left: 0;
        margin-right: auto;
    }
}

.ad-col-right {
    display: flex;
    justify-content: flex-end; /* Push ads to right edge */
    overflow: hidden; /* Clip any overflow on the left */

    .ad-sidebar {
        margin-left: auto;
        margin-right: 0;
    }
}

/* Section Headers */
.section-header {
    h2 {
        background: none;
        padding: 0;
        color: var(--text-primary);
        font-size: 1.75rem;
        display: inline-flex;
        align-items: center;
    }
}

/* Search Box */
.search-box {
    background-color: var(--bg-secondary);
    border: 1px solid var(--border-color);

    .form-control,
    .form-select {
        background-color: var(--bg-primary);
        border-color: var(--border-color);
        color: var(--text-primary);

        &:focus {
            border-color: var(--color-primary);
            box-shadow: 0 0 0 0.2rem rgba(50, 102, 144, 0.25);
        }
    }

    .form-select {
        background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3e%3cpath fill='none' stroke='%23666' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m2 5 6 6 6-6'/%3e%3c/svg%3e");
    }

    .btn-primary {
        background-color: #4a9eda !important;
        border-color: #4a9eda !important;
        color: #fff !important;

        &:hover, &:focus {
            background-color: #326690 !important;
            border-color: #326690 !important;
        }
    }
}

html[data-theme="dark"] .search-box {
    background-color: var(--bg-tertiary);
    border-color: var(--border-color-dark);

    .form-control,
    .form-select {
        background-color: var(--bg-primary);
        border-color: var(--border-color-dark);
        color: var(--text-primary);

        &::placeholder {
            color: #888;
        }
    }

    .form-select {
        background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3e%3cpath fill='none' stroke='%23999' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m2 5 6 6 6-6'/%3e%3c/svg%3e");
    }
}

/* Search result highlights in dark mode */
html[data-theme="dark"] {
    mark {
        background-color: #ca8a04;
        color: #fff;
        padding: 0.1em 0.2em;
        border-radius: 2px;
    }

    /* Search results use <b> tags for highlighting */
    ol li b {
        color: #fbbf24;
        font-weight: bold;
    }
}

/* Video Cards */
.video-card {
    transition: transform var(--transition-base), box-shadow var(--transition-base);
    background: var(--bg-primary);
    border: 1px solid var(--border-color);

    &:hover {
        transform: translateY(-3px);
        box-shadow: $shadow-md;
    }

    .video-container {
        margin-bottom: 0;
        border-radius: $radius-lg $radius-lg 0 0;
    }

    .video-title {
        color: var(--text-primary);
        font-size: 0.9rem;
        line-height: 1.4;
    }
}

/* Blog Cards */
.blog-card {
    transition: transform var(--transition-base), box-shadow var(--transition-base);
    background: var(--bg-primary);
    border: 1px solid var(--border-color);

    &:hover {
        transform: translateY(-3px);
        box-shadow: $shadow-md;
    }

    .blog-title {
        color: var(--color-primary);
    }

    .blog-link {
        color: var(--color-primary);
        text-decoration: none;

        &:hover {
            text-decoration: underline;
        }
    }
}

/* News List */
.news-list {
    background: var(--bg-primary);
    border: 1px solid var(--border-color);

    .news-item {
        .news-date {
            white-space: nowrap;
            font-size: 0.75rem;
        }

        .news-title {
            color: var(--text-primary);
        }

        .news-body {
            p {
                margin-bottom: 0.5rem;

                &:last-child {
                    margin-bottom: 0;
                }
            }
        }
    }
}

/* Version Banner */
.version-banner {
    .bg-primary {
        background: $gradient-cta !important;
    }
}

/* Ad Sidebar */
.ad-sidebar {
    max-width: 300px;
    margin-left: auto;
}

/* ==========================================================================
   Dark Mode - Comprehensive Styles
   ========================================================================== */
html[data-theme="dark"] {
    /* Hero section */
    .hero-section {
        background: $gradient-hero-dark;

        /* Ensure all containers inside hero are transparent */
        .container,
        .container-fluid,
        .row,
        .col,
        [class*="col-"],
        .hero-content,
        .hero-visual,
        .hero-screenshot-wrapper {
            background-color: transparent !important;
        }
    }

    /* Features section - use tertiary for contrast with cards */
    .features-section {
        background-color: var(--bg-primary) !important;

        &::before {
            background-color: var(--bg-primary) !important;
        }
    }

    /* Cards - lighter background with visible border for contrast */
    .feature-card,
    .feature-card.bg-white,
    .video-card,
    .video-card.bg-white,
    .blog-card,
    .blog-card.bg-white,
    .news-list,
    .news-list.bg-white {
        background: var(--bg-secondary) !important;
        border: 1px solid var(--card-border) !important;
        box-shadow: var(--shadow-sm) !important;
    }

    /* Bootstrap utility overrides */
    .bg-light {
        background-color: var(--bg-secondary) !important;
    }

    .bg-white {
        background-color: var(--bg-secondary) !important;
    }

    .text-muted {
        color: var(--text-secondary) !important;
    }

    .text-dark {
        color: var(--text-primary) !important;
    }

    .shadow-sm {
        box-shadow: var(--shadow-sm) !important;
    }

    /* Navbar - slightly darker in dark mode */
    .navbar.bg-dark {
        background-color: var(--bg-darker) !important;
    }

    /* Footer - slightly darker in dark mode */
    .site-footer.bg-dark {
        background-color: var(--bg-darker) !important;
    }

    /* Cards and panels */
    .card {
        background-color: var(--bg-primary);
        border-color: var(--border-color);
        color: var(--text-primary);
    }

    .card-header {
        background-color: var(--bg-secondary);
        border-color: var(--border-color);
    }

    .card-footer {
        background-color: var(--bg-secondary);
        border-color: var(--border-color);
    }

    /* Tables */
    .table {
        color: var(--text-primary);
        background-color: transparent !important;
        --bs-table-bg: transparent;

        th, td {
            border-color: var(--border-color);
        }

        thead th {
            background-color: var(--bg-secondary);
            border-color: var(--border-color);
        }

        tbody tr:hover {
            background-color: var(--bg-secondary);
        }
    }

    .table-striped tbody tr:nth-of-type(odd) {
        background-color: var(--bg-secondary);
    }

    /* Download page */
    .well {
        background-color: var(--bg-secondary) !important;
    }

    .pga-content .pga-quicklinks i,
    .pga-content .pga-quicklinks svg,
    .pga-content .pga-quicklinks .svg-inline--fa,
    .pga-content .well .pga-quicklinks .svg-inline--fa,
    .pga-downloads .pga-quicklinks .svg-inline--fa {
        color: #e4e4e7 !important;
    }

    .pga-downloads {
        background-color: var(--bg-secondary) !important;
    }

    /* Forms */
    .form-control {
        background-color: var(--bg-secondary);
        border-color: var(--border-color);
        color: var(--text-primary);

        &:focus {
            background-color: var(--bg-primary);
            border-color: var(--color-primary);
            color: var(--text-primary);
        }

        &::placeholder {
            color: var(--text-muted);
        }
    }

    .input-group-text {
        background-color: var(--bg-secondary);
        border-color: var(--border-color);
        color: var(--text-primary);
    }

    /* Dropdown menus */
    .dropdown-menu {
        background-color: var(--bg-primary);
        border-color: var(--border-color);
    }

    .dropdown-item {
        color: var(--text-primary);

        &:hover, &:focus {
            background-color: var(--bg-secondary);
            color: var(--text-primary);
        }
    }

    .dropdown-divider {
        border-color: var(--border-color);
    }

    .dropdown-header {
        color: var(--text-secondary);
    }

    /* Links (exclude buttons and nav items) */
    a:not(.btn):not(.nav-link):not(.navbar-brand):not(.dropdown-item) {
        color: var(--color-primary);

        &:hover {
            color: var(--color-primary-dark);
        }
    }

    /* Headings - but preserve white text on h1 with blue background */
    h2, h3, h4, h5, h6 {
        color: var(--text-primary);
    }

    /* h1 default style has blue background with white text - preserve white text */
    /* Only change h1 color if it doesn't have the default blue background styling */
    .hero-section h1,
    h1.text-white,
    h1.display-4 {
        color: #fff !important;
    }

    /* For h1 with explicit background override, use light text */
    h1:not(.display-4) {
        /* Keep default white text for regular h1 (which has blue bg) */
        color: #fff;
    }

    /* Headings with background (page titles) */
    h1.display-4, h2.display-5 {
        background: none;
    }

    /* Borders */
    .border {
        border-color: var(--border-color) !important;
    }

    .border-top, .border-bottom, .border-start, .border-end {
        border-color: var(--border-color) !important;
    }

    /* Alerts */
    .alert-info {
        background-color: rgba(74, 158, 218, 0.2);
        border-color: rgba(74, 158, 218, 0.3);
        color: #93c5fd;
    }

    .alert-warning {
        background-color: rgba(251, 191, 36, 0.2);
        border-color: rgba(251, 191, 36, 0.3);
        color: #fcd34d;
    }

    .alert-danger {
        background-color: rgba(239, 68, 68, 0.2);
        border-color: rgba(239, 68, 68, 0.3);
        color: #fca5a5;
    }

    .alert-success {
        background-color: rgba(34, 197, 94, 0.2);
        border-color: rgba(34, 197, 94, 0.3);
        color: #86efac;
    }

    /* Code blocks */
    pre, code {
        background-color: var(--bg-secondary);
        color: #e4e4e7;
    }

    .highlight {
        background-color: var(--bg-secondary);
    }

    /* Badges */
    .badge.bg-secondary {
        background-color: var(--bg-tertiary) !important;
        color: var(--text-primary);
    }

    .badge.bg-light {
        background-color: var(--bg-secondary) !important;
        color: var(--text-primary) !important;
    }

    .badge.bg-primary {
        background-color: #4a9eda !important;
        color: #fff !important;
    }

    /* Global outline-primary buttons in dark mode */
    .btn-outline-primary {
        color: #4a9eda !important;
        border-color: #4a9eda !important;

        &:hover, &:focus {
            background-color: #326690 !important;
            border-color: #326690 !important;
            color: #fff !important;
        }
    }

    /* Breadcrumbs */
    .breadcrumb {
        background-color: var(--bg-secondary);
    }

    .breadcrumb-item + .breadcrumb-item::before {
        color: var(--text-muted);
    }

    .breadcrumb-item.active {
        color: var(--text-secondary);
    }

    /* Pagination */
    .page-link {
        background-color: var(--bg-primary);
        border-color: var(--border-color);
        color: var(--color-primary);

        &:hover {
            background-color: var(--bg-secondary);
            border-color: var(--border-color);
            color: var(--color-primary);
        }
    }

    .page-item.active .page-link {
        background-color: var(--color-primary);
        border-color: var(--color-primary);
    }

    .page-item.disabled .page-link {
        background-color: var(--bg-secondary);
        border-color: var(--border-color);
        color: var(--text-muted);
    }

    /* List groups */
    .list-group-item {
        background-color: var(--bg-primary);
        border-color: var(--border-color);
        color: var(--text-primary);
    }

    /* Modal */
    .modal-content {
        background-color: var(--bg-primary);
        border-color: var(--border-color);
    }

    .modal-header, .modal-footer {
        border-color: var(--border-color);
    }

    /* Accordion */
    .accordion-item {
        background-color: var(--bg-primary);
        border-color: var(--border-color);
    }

    .accordion-button {
        background-color: var(--bg-primary);
        color: var(--text-primary);

        &:not(.collapsed) {
            background-color: var(--bg-secondary);
            color: var(--color-primary);
        }

        &::after {
            filter: invert(1);
        }
    }

    /* Horizontal rules */
    hr {
        border-color: var(--border-color);
        opacity: 1;
    }

    /* Screenshot gallery dark mode */
    .screenshot-item {
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);

        &:hover {
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.4);
        }
    }
}

/* ==========================================================================
   Navbar & Footer Styles (always dark, regardless of theme)
   ========================================================================== */

/* Navbar buttons - always need light text since navbar is always dark */
.navbar.bg-dark {
    .btn-outline-light {
        color: #a1a1aa !important;
        border-color: rgba(161, 161, 170, 0.5);

        i, svg {
            color: inherit !important;
        }

        &:hover, &:focus {
            background-color: rgba(228, 228, 231, 0.15);
            color: #e4e4e7 !important;
            border-color: rgba(228, 228, 231, 0.75);
        }
    }

    .btn-primary {
        background-color: #4a9eda !important;
        border-color: #4a9eda !important;
        color: #fff !important;

        &:hover, &:focus {
            background-color: #326690 !important;
            border-color: #326690 !important;
        }

        i, svg {
            color: inherit !important;
        }
    }

    /* Search input in navbar */
    .form-control {
        background-color: rgba(255, 255, 255, 0.1);
        border-color: rgba(255, 255, 255, 0.2);
        color: #e4e4e7;

        &::placeholder {
            color: #a1a1aa;
        }

        &:focus {
            background-color: rgba(255, 255, 255, 0.15);
            border-color: rgba(255, 255, 255, 0.4);
            color: #e4e4e7;
        }
    }
}

/* Footer styles - always dark regardless of theme */
.site-footer {
    /* All links in footer should be light-colored */
    a {
        transition: color var(--transition-fast);
    }

    /* Footer links need to be visible on dark background */
    a.text-secondary {
        color: #a1a1aa !important;

        &:hover {
            color: #e4e4e7 !important;
        }
    }

    /* Social icon links - FontAwesome icons must inherit color */
    .d-flex a.text-secondary {
        color: #a1a1aa !important;

        i, svg, .fa, .fab, .fas, .far {
            color: inherit !important;
        }

        &:hover {
            color: #e4e4e7 !important;
        }
    }

    /* All FontAwesome icons in footer should be light */
    i.fa, i.fab, i.fas, i.far,
    svg.svg-inline--fa {
        color: #a1a1aa !important;
    }

    a:hover i.fa, a:hover i.fab, a:hover i.fas, a:hover i.far,
    a:hover svg.svg-inline--fa {
        color: #e4e4e7 !important;
    }

    h6 {
        font-size: 0.9rem;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 0.05em;
    }
}

/* ==========================================================================
   Main Content Area - must use CSS variables
   ========================================================================== */
.pga-content {
    background-color: var(--bg-primary);
    color: var(--text-primary);
}

.content-wrapper {
    color: var(--text-primary);

    h1, h2, h3, h4, h5, h6 {
        color: var(--text-primary);
    }

    p, li, td, th {
        color: var(--text-primary);
    }
}

/* ==========================================================================
   Scroll Animations
   ========================================================================== */
@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.animate-on-scroll {
    opacity: 0;

    &.is-visible {
        animation: fadeInUp 0.6s ease forwards;
    }
}

/* Stagger animation for children */
.stagger-children.is-visible > * {
    @for $i from 1 through 6 {
        &:nth-child(#{$i}) {
            animation-delay: #{$i * 0.1}s;
        }
    }
}
